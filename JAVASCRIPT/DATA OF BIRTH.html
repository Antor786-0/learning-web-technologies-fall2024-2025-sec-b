<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date of Birth Validation</title>
    <style>
        .error {
            color: red;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
    <script>
        function validateForm() {
            let errors = [];

            // Date of Birth Validation
            const day = document.forms["dobForm"]["day"].value;
            const month = document.forms["dobForm"]["month"].value;
            const year = document.forms["dobForm"]["year"].value;

            if (!day || !month || !year) {
                errors.push("Date of Birth fields cannot be empty.");
            } else {
                const dayInt = parseInt(day);
                const monthInt = parseInt(month);
                const yearInt = parseInt(year);

                // Validate day range (1 to 31)
                if (!(dayInt >= 1 && dayInt <= 31)) {
                    errors.push("Day must be between 1 and 31.");
                }

                // Validate month range (1 to 12)
                if (!(monthInt >= 1 && monthInt <= 12)) {
                    errors.push("Month must be between 1 and 12.");
                }

                // Validate year range (1900 to 2025)
                if (!(yearInt >= 1900 && yearInt <= 2025)) {
                    errors.push("Year must be between 1900 and 2025.");
                }

                // Validate the day against the month
                if (monthInt === 2) {
                    // Check for leap year and validate February days
                    if ((yearInt % 4 === 0 && yearInt % 100 !== 0) || (yearInt % 400 === 0)) {
                        // Leap year, February can have 29 days
                        if (!(dayInt >= 1 && dayInt <= 29)) {
                            errors.push("In February, day must be between 1 and 29.");
                        }
                    } else {
                        // Non-leap year, February has 28 days
                        if (!(dayInt >= 1 && dayInt <= 28)) {
                            errors.push("In February, day must be between 1 and 28.");
                        }
                    }
                } else if (monthInt === 4 || monthInt === 6 || monthInt === 9 || monthInt === 11) {
                    // Months with 30 days
                    if (!(dayInt >= 1 && dayInt <= 30)) {
                        errors.push("This month has only 30 days. Day must be between 1 and 30.");
                    }
                } else {
                    // Months with 31 days
                    if (!(dayInt >= 1 && dayInt <= 31)) {
                        errors.push("This month has only 31 days. Day must be between 1 and 31.");
                    }
                }
            }

            // Display errors if there are any
            if (errors.length > 0) {
                document.getElementById("errorMessages").innerHTML = errors.join("<br>");
                return false; // Prevent form submission
            }

            alert("Form submitted successfully!");
            return true; // Allow form submission
        }
    </script>
</head>
<body>
    <form name="dobForm" onsubmit="return validateForm()">
        <fieldset>
            <legend><h3>Date of Birth</h3></legend>
            <table>
                <tr>
                    <td><label for="day">dd</label></td>
                    <td></td>
                    <td><label for="month">mm</label></td>
                    <td></td>
                    <td><label for="year">yyyy</label></td>
                </tr>
                <tr>
                    <td><input type="text" name="day" id="day"></td>
                    <td>/</td>
                    <td><input type="text" name="month" id="month"></td>
                    <td>/</td>
                    <td><input type="text" name="year" id="year"></td>
                </tr>
            </table>
            <br><br><hr>
            <input type="submit" value="Submit">
        </fieldset>

        <div id="errorMessages" class="error"></div>
    </form>
</body>
</html>
